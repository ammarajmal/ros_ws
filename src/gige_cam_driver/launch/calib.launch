<launch>
  <arg name="cam" default="camera_1" />
  <arg name="device_id" default="0" />
  <arg name="calib_file" default="cam1" />

  <node  name="$(arg cam)" 
         pkg="gige_cam_driver"
         type="camera_node.py"
         output="screen">

      <param name="device_id" value="$(arg device_id)"/>
      <param name="camera_manager" value="$(arg cam)"/>
      <param name="calibration_file" value="$(find gige_cam_driver)/config/camera_info_$(arg calib_file).yaml"/>

   </node>

   <node name = "$(arg cam)_calibration" 
         pkg="camera_calibration"
         type="cameracalibrator.py"
         output="screen">

    <param name="size" value="6x5"/>
    <param name="square" value="0.025"/>
    <param name="k-coefficients" value="2"/>
    <param name="fix-principal-point" value="i"/>
    <param name="fix-aspect-ratio" value="true"/>
    <remap from="image" to="/$(arg cam)/image_raw"/>
    <remap from="camera" to="/$(arg cam)"/>
    </node>
</launch>

